<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Qu·∫£n l√Ω t√†i kho·∫£n - Checkwear</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: "Segoe UI", sans-serif; }
    body { display: flex; min-height: 100vh; background: #f5f7fa; }

    /* Sidebar */
    .sidebar {
      width: 230px; background: #fff; border-right: 1px solid #ddd;
      display: flex; flex-direction: column; padding: 20px 15px;
    }
    .logo { display: flex; align-items: center; font-weight: bold; margin-bottom: 25px; }
    .logo img { width: 40px; height: 40px; margin-right: 8px; }
    .menu a {
      display: block; padding: 10px 15px; border-radius: 6px;
      text-decoration: none; color: #333; margin-bottom: 8px;
      transition: 0.3s;
    }
    .menu a:hover, .menu a.active { background: #e0e7ff; color: #1e40af; }

    /* Main */
    .main { flex: 1; display: flex; flex-direction: column; }

    /* Header */
    .header {
      background: #fff; padding: 12px 20px; display: flex;
      justify-content: space-between; align-items: center;
      border-bottom: 1px solid #ddd;
    }
    .breadcrumb { font-size: 14px; }
    .breadcrumb a { color: #2563eb; text-decoration: none; }
    .header-right { display: flex; align-items: center; gap: 15px; font-size: 14px; }
    .bell { font-size: 18px; cursor: pointer; }

    /* Content */
    .content { padding: 20px; flex: 1; }
    .top-bar { display: flex; justify-content: space-between; margin-bottom: 10px; }
    .search-box input {
      padding: 6px 10px; border: 1px solid #ccc; border-radius: 6px;
    }
    .btn-add {
      background: #2563eb; color: #fff; border: none;
      padding: 8px 14px; border-radius: 6px; cursor: pointer;
      font-size: 14px; transition: 0.3s;
    }
    .btn-add:hover { background: #1e40af; }

    table {
      width: 100%; border-collapse: collapse; background: #fff;
      border-radius: 8px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    th, td { padding: 12px 15px; text-align: left; }
    th { background: #dbeafe; font-weight: 600; font-size: 14px; }
    tr:nth-child(even) { background: #f9fafb; }
    td { font-size: 14px; }
    td span.active { color: green; font-weight: 600; }
    td span.locked { color: red; font-weight: 600; }

    .btn {
      padding: 6px 12px; border: none; border-radius: 6px; cursor: pointer;
      font-size: 13px; transition: 0.3s;
    }
    .btn-detail { background: #fef3c7; color: #92400e; }
    .btn-detail:hover { background: #fde68a; }
    .btn-edit { background: none; color: #2563eb; border: none; cursor: pointer; font-size: 13px; }
    .btn-delete { background: none; color: #dc2626; border: none; cursor: pointer; font-size: 13px; }

    /* Modal */
    .modal {
      display: none; position: fixed; top: 0; left: 0;
      width: 100%; height: 100%; background: rgba(0,0,0,0.4);
      align-items: center; justify-content: center; z-index: 1000;
    }
    .modal-content {
      background: #fff; padding: 20px; border-radius: 10px;
      width: 400px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      animation: fadeIn 0.3s ease;
    }
    .modal h3 { margin-bottom: 12px; font-size: 18px; }
    .modal label { display: block; margin-top: 10px; font-size: 14px; }
    .modal input, .modal select {
      width: 100%; padding: 8px; margin-top: 5px;
      border: 1px solid #ccc; border-radius: 6px;
    }
    .modal-actions {
      margin-top: 15px; display: flex; justify-content: flex-end; gap: 10px;
    }
    .btn-close { background: #6b7280; color: #fff; }
    .btn-save { background: #2563eb; color: #fff; }
    @keyframes fadeIn { from {opacity:0; transform:scale(0.95);} to {opacity:1; transform:scale(1);} }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo">
  <img src="logo.png" alt="Logo">
  <span class="brand">CHECKWEAR</span>
</div>

    <div class="menu">
      <a href="#" class="active">T√†i Kho·∫£n</a>
      <a href="#">Danh S√°ch T√†i Kho·∫£n</a>
      <a href="#">Th√™m T√†i Kho·∫£n</a>
      <a href="#">Th√¥ng Tin T√†i Kho·∫£n</a>
    </div>
  </div>

  <!-- Main -->
  <div class="main">
    <!-- Header -->
    <div class="header">
      <div class="breadcrumb">T√†i Kho·∫£n / <a href="#">Danh S√°ch T√†i Kho·∫£n</a></div>
      <div class="header-right"><span class="bell">üîî</span> leducmanager@gmail.com</div>
    </div>

    <!-- Content -->
    <div class="content">
      <div class="top-bar">
        <div class="search-box"><input type="text" id="search" placeholder="üîç T√¨m ki·∫øm..."></div>
        <button class="btn-add" onclick="openAdd()">‚ûï Th√™m t√†i kho·∫£n</button>
      </div>
      <table id="accountTable">
        <thead>
          <tr>
            <th>#</th><th>T√™n User</th><th>Email</th><th>Vai Tr√≤</th><th>Tr·∫°ng Th√°i</th><th>Thao t√°c</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <h3 id="modalTitle">Chi ti·∫øt t√†i kho·∫£n</h3>
      <div id="modalBody"></div>
      <div class="modal-actions">
        <button class="btn btn-close" onclick="closeModal()">ƒê√≥ng</button>
        <button class="btn btn-save" id="btnSave" onclick="saveEdit()">L∆∞u</button>
      </div>
    </div>
  </div>

<script>
  let accounts = [
    {id:1, user:'LeDuck', email:'leduc123@gmail.com', role:'ng∆∞·ªùi mua', status:'Active'},
    {id:2, user:'Tungngu', email:'tung123@gmail.com', role:'ng∆∞·ªùi mua', status:'Active'},
    {id:3, user:'AnChiPu', email:'anchimloi123@gmail.com', role:'ng∆∞·ªùi mua', status:'Active'},
    {id:4, user:'NamDat', email:'nghia123@gmail.com', role:'ng∆∞·ªùi mua', status:'Locked'},
  ];

  const tbody = document.querySelector("#accountTable tbody");
  const searchBox = document.getElementById("search");
  const modal = document.getElementById("modal");
  const modalBody = document.getElementById("modalBody");
  const modalTitle = document.getElementById("modalTitle");
  const btnSave = document.getElementById("btnSave");
  let editingId = null, adding = false;

  function renderTable(data) {
    tbody.innerHTML = "";
    data.forEach((acc, idx) => {
      tbody.innerHTML += `
        <tr>
          <td>${idx+1}</td>
          <td>${acc.user}</td>
          <td>${acc.email}</td>
          <td>${acc.role}</td>
          <td><span class="${acc.status==='Active'?'active':'locked'}">${acc.status}</span></td>
          <td>
            <button class="btn btn-detail" onclick="openDetail(${acc.id})">Xem</button>
            <button class="btn btn-edit" onclick="openEdit(${acc.id})">‚úé S·ª≠a</button>
            <button class="btn btn-delete" onclick="deleteAcc(${acc.id})">üóëÔ∏è Xo√°</button>
          </td>
        </tr>
      `;
    });
  }
  renderTable(accounts);

  searchBox.addEventListener("input", e => {
    const q = e.target.value.toLowerCase();
    const filtered = accounts.filter(acc => acc.user.toLowerCase().includes(q) || acc.email.toLowerCase().includes(q));
    renderTable(filtered);
  });

  function openDetail(id) {
    const acc = accounts.find(a=>a.id===id);
    editingId = null; adding = false;
    modalTitle.textContent = "Chi ti·∫øt t√†i kho·∫£n";
    modalBody.innerHTML = `
      <p><b>Username:</b> ${acc.user}</p>
      <p><b>Email:</b> ${acc.email}</p>
      <p><b>Vai tr√≤:</b> ${acc.role}</p>
      <p><b>Tr·∫°ng th√°i:</b> ${acc.status}</p>
    `;
    btnSave.style.display = "none";
    modal.style.display = "flex";
  }

  function openEdit(id) {
    const acc = accounts.find(a=>a.id===id);
    editingId = id; adding = false;
    modalTitle.textContent = "S·ª≠a t√†i kho·∫£n";
    modalBody.innerHTML = formHtml(acc);
    btnSave.style.display = "inline-block";
    modal.style.display = "flex";
  }

  function openAdd() {
    editingId = null; adding = true;
    modalTitle.textContent = "Th√™m t√†i kho·∫£n";
    modalBody.innerHTML = formHtml();
    btnSave.style.display = "inline-block";
    modal.style.display = "flex";
  }

  function formHtml(acc={user:"",email:"",role:"",status:"Active"}) {
    return `
      <label>Username</label>
      <input type="text" id="editUser" value="${acc.user}">
      <label>Email</label>
      <input type="email" id="editEmail" value="${acc.email}">
      <label>Vai tr√≤</label>
      <input type="text" id="editRole" value="${acc.role}">
      <label>Tr·∫°ng th√°i</label>
      <select id="editStatus">
        <option ${acc.status==='Active'?'selected':''}>Active</option>
        <option ${acc.status==='Locked'?'selected':''}>Locked</option>
      </select>
    `;
  }

  function saveEdit() {
    const user = document.getElementById("editUser").value.trim();
    const email = document.getElementById("editEmail").value.trim();
    const role = document.getElementById("editRole").value.trim();
    const status = document.getElementById("editStatus").value;
    if(!user || !email || !role){ alert("Vui l√≤ng nh·∫≠p ƒë·ªß th√¥ng tin!"); return; }
    if(adding){
      const newId = accounts.length? Math.max(...accounts.map(a=>a.id))+1:1;
      accounts.push({id:newId,user,email,role,status});
    }else if(editingId){
      const acc = accounts.find(a=>a.id===editingId);
      acc.user = user; acc.email=email; acc.role=role; acc.status=status;
    }
    renderTable(accounts);
    closeModal();
  }

  function deleteAcc(id) {
    if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën xo√° t√†i kho·∫£n n√†y?")){
      accounts = accounts.filter(a=>a.id!==id);
      renderTable(accounts);
    }
  }

  function closeModal() {
    modal.style.display = "none";
  }
</script>
</body>
</html>
